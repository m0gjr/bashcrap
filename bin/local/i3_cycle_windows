#!/usr/bin/env python3

import os
import json
import sys

import i3_windows

ws_num=i3_windows.get_workspace()
tree=i3_windows.get_tree()
active_node=i3_windows.get_active_node(tree['nodes'],ws_num)
leaf_ids=i3_windows.get_leaf_ids(active_node['nodes']+active_node['floating_nodes'])

index=(leaf_ids.index('focus') + 1) % len(leaf_ids)
next_id=leaf_ids[index]

os.popen("i3-msg -t command '[con_id=" + '"' + str(next_id) + '"' + "] focus'")
