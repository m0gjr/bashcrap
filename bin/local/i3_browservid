#!/usr/bin/python3

import os
import json
import sys
import re

import i3_windows

ws_num=i3_windows.get_workspace()
tree=i3_windows.get_tree()
active_node=i3_windows.get_active_node(tree['nodes'],ws_num)
focused_node=i3_windows.get_focused_node(active_node['nodes'])

name=focused_node['name']

pattern=r'https:\/\/\S+'

url=re.search(pattern,name).group()

os.popen("x-terminal-emulator --app-id=term-float browservid "+url)
os.popen("i3_cycle_windows")
